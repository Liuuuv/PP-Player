#!/usr/bin/env python3
"""
Debug de l'Ã©tat de la playlist dans l'application rÃ©elle
"""

print("ğŸ” INSTRUCTIONS POUR DÃ‰BUGGER VOTRE PLAYLIST")
print("="*60)

print("\nğŸ“‹ Ã‰TAPES Ã€ SUIVRE DANS VOTRE APPLICATION :")
print("1. Lancez votre application musicale")
print("2. Allez dans l'onglet 'Recherche'")
print("3. Ouvrez la console Python (si disponible) ou ajoutez ces lignes temporairement")
print("4. Copiez-collez ces commandes une par une :")

print("\nğŸ” COMMANDES DE DEBUG Ã€ EXÃ‰CUTER :")
print("```python")
print("# VÃ©rifier l'Ã©tat de la playlist")
print("print(f'Nombre de musiques dans main_playlist: {len(getattr(self, \"main_playlist\", []))}')") 
print("print(f'Playlist: {getattr(self, \"main_playlist\", [])[:3]}...')  # Afficher les 3 premiÃ¨res")
print("")
print("# VÃ©rifier l'Ã©tat du container")
print("if hasattr(self, 'playlist_container'):")
print("    children = self.playlist_container.winfo_children()")
print("    print(f'Nombre d\\'Ã©lÃ©ments affichÃ©s: {len(children)}')")
print("    print(f'Container existe: {self.playlist_container.winfo_exists()}')")
print("else:")
print("    print('playlist_container n\\'existe pas')")
print("")
print("# VÃ©rifier la rÃ©gion de scroll")
print("if hasattr(self, 'playlist_canvas'):")
print("    region = self.playlist_canvas.cget('scrollregion')")
print("    print(f'RÃ©gion de scroll: {region}')")
print("else:")
print("    print('playlist_canvas n\\'existe pas')")
print("")
print("# FORCER L'AFFICHAGE DE LA PLAYLIST")
print("if hasattr(self, '_display_main_playlist'):")
print("    print('ForÃ§age de l\\'affichage de la playlist...')")
print("    self._display_main_playlist()")
print("    print('Affichage forcÃ© terminÃ©')")
print("else:")
print("    print('Fonction _display_main_playlist non disponible')")
print("```")

print("\nğŸ“Š RÃ‰SULTATS ATTENDUS :")
print("â€¢ Si main_playlist est vide â†’ Ajoutez des musiques d'abord")
print("â€¢ Si container a 0 enfants â†’ La playlist n'est pas affichÃ©e")
print("â€¢ Si rÃ©gion = '0 0 1 1' â†’ RÃ©gion de scroll incorrecte")
print("â€¢ AprÃ¨s _display_main_playlist() â†’ Tout devrait Ãªtre corrigÃ©")

print("\nğŸ”§ SOLUTION ALTERNATIVE :")
print("Si vous ne pouvez pas exÃ©cuter ces commandes, ajoutez temporairement")
print("cette ligne dans votre code (par exemple dans setup_search_tab()) :")
print("")
print("```python")
print("# Ã€ ajouter temporairement dans setup_search_tab() ou similaire")
print("self.root.after(2000, lambda: self._display_main_playlist() if hasattr(self, '_display_main_playlist') else None)")
print("```")

print("\nğŸ¯ OBJECTIF :")
print("Identifier pourquoi la playlist n'est pas affichÃ©e et forcer son affichage")

print(f"\n{'='*60}")
print("ğŸ“‹ EXÃ‰CUTEZ CES COMMANDES ET RAPPORTEZ LES RÃ‰SULTATS")
print(f"{'='*60}")